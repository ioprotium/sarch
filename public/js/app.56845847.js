(function(t){function e(e){for(var a,o,s=e[0],c=e[1],u=e[2],d=0,p=[];d<s.length;d++)o=s[d],r[o]&&p.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("1356"),r=n.n(a);r.a},1356:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),r=n("bb71");n("da64");a["a"].use(r["a"],{iconfont:"md"});var i=n("bc3a"),o=n.n(i),s=o.a.create({baseURL:"/api/v1",timeout:15e3});a["a"].mixin({computed:{$http:function(){return s}}});var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-toolbar",{attrs:{app:""}},[n("v-toolbar-title",{staticClass:"headline text-uppercase"},[n("span",{staticClass:"font-weight-light"},[t._v("sarch")])]),n("v-spacer"),null!==t.user?n("v-btn",{attrs:{flat:""},on:{click:t.logout}},[n("span",{staticClass:"mr-2"},[t._v("logout")])]):t._e(),n("v-btn",{attrs:{flat:"",href:t.docsUrl,target:"_blank"}},[n("span",{staticClass:"mr-2"},[t._v("API DOCS")])]),n("v-btn",{attrs:{flat:"",href:"https://github.com/ioprotium/sarch",target:"_blank"}},[n("span",{staticClass:"mr-2"},[t._v("github")])])],1),n("v-content",[n("v-container",[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[t.loading?n("h1",[t._v("LOADING")]):null===t.user?n("Login",{attrs:{ui:t.ui}}):n("Accounts",{attrs:{userToken:t.userToken}})],1)],1)],1)],1)},u=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,loading:t.loading,items:t.items,"item-key":"id","no-data-text":"No Accounts found"},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",[t._v(t._s(e.item.id))]),n("td",[t._v(t._s(e.item.email))]),n("td",{staticClass:"justify-center layout px-0"},[n("v-btn",{staticClass:"mx-0",attrs:{title:"edit",icon:""},on:{click:function(n){t.editItem(e.item)}}},[n("v-icon",{attrs:{color:"teal"}},[t._v("edit")])],1),n("v-btn",{staticClass:"mx-0",attrs:{title:"delete",icon:""},on:{click:function(n){t.deleteItem(e.item)}}},[n("v-icon",{attrs:{color:"pink"}},[t._v("delete")])],1)],1)]}}])}),n("v-dialog",{attrs:{width:"60%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n        "+t._s(t.current.id?"Editing Account "+t.current.id:"Create Account")+"\n      ")]),n("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[t.current.id?n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{"prepend-icon":"person",disabled:""},model:{value:t.current.id,callback:function(e){t.$set(t.current,"id",e)},expression:"current.id"}})],1):t._e(),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{"prepend-icon":"mail",placeholder:"Email",rules:[t.hasErrors]},model:{value:t.current.email,callback:function(e){t.$set(t.current,"email",e)},expression:"current.email"}})],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.resetForm}},[t._v("Cancel")]),n("v-btn",{attrs:{flat:""},on:{click:t.submit}},[t._v("Save")])],1)],1)],1),n("v-btn",{attrs:{title:"create account",fab:"",bottom:"",right:"",color:"pink",dark:"",fixed:""},on:{click:function(e){e.stopPropagation(),t.dialog=!t.dialog}}},[n("v-icon",[t._v("add")])],1)],1)},d=[],p=(n("f751"),{name:"Accounts",props:["userToken"],data:function(){return{dialog:!1,totalItems:0,items:[],pagination:{descending:!0,page:1,rowsPerPage:5,sortBy:"email"},headers:[{text:"ID",value:"id"},{text:"Email",value:"email"}],loading:!0,current:{},error:null,currentIndex:-1,apiPath:"/accounts"}},created:function(){this.default={email:""},this.current=Object.assign({},this.default),this.tokenHeaders={"X-Access-Token":this.userToken}},computed:{hasErrors:function(){return null===this.error||this.error}},mounted:function(){this.getItems()},methods:{cancelForm:function(){},resetForm:function(){this.current=Object.assign({},this.default),this.dialog=!1},submit:function(){var t=this;this.current.id?this.$http.put("".concat(this.apiPath,"/").concat(this.current.id),this.current,{headers:this.tokenHeaders}).then(function(e){var n=e.data;Object.assign(t.items[t.currentIndex],n),t.resetForm()}).catch(function(e){t.error=e.request.responseText,console.error("Error updating account.",e)}):this.$http.post(this.apiPath,this.current,{headers:this.tokenHeaders}).then(function(e){e.data;t.resetForm(),t.getItems()}).catch(function(e){t.error=e.request.responseText,console.error("Error creating account.",e)})},editItem:function(t){this.currentIndex=this.items.indexOf(t),this.current=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this;this.$http.delete("".concat(this.apiPath,"/").concat(t.id),{headers:this.tokenHeaders}).then(function(){var n=e.items.indexOf(t);e.items.splice(n,1)}).catch(function(t){console.error("Error deleting item.",t)})},getItems:function(){var t=this;this.loading=!0;var e=this.pagination;e.sortBy,e.descending,e.page,e.rowsPerPage;this.$http.get("".concat(this.apiPath),{headers:this.tokenHeaders}).then(function(e){var n=e.data;t.items=n,t.loading=!1}).catch(function(e){t.loading=!1,console.error(e.message)})}}}),h=p,f=n("2877"),v=n("6544"),m=n.n(v),g=n("8336"),b=n("b0af"),_=n("99d9"),x=n("12b2"),y=n("a523"),k=n("8fea"),O=n("169a"),I=n("0e8f"),C=n("132d"),A=n("a722"),V=n("9910"),P=n("2677"),T=Object(f["a"])(h,l,d,!1,null,null,null);T.options.__file="Accounts.vue";var j=T.exports;m()(T,{VBtn:g["a"],VCard:b["a"],VCardActions:_["a"],VCardTitle:x["a"],VContainer:y["a"],VDataTable:k["a"],VDialog:O["a"],VFlex:I["a"],VIcon:C["a"],VLayout:A["a"],VSpacer:V["a"],VTextField:P["a"]});var w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"fire-auth"}})},E=[],S={props:{ui:{type:Object}},mounted:function(){this.ui.start("#fire-auth",{callbacks:{signInSuccessWithAuthResult:function(t,e){return!1}},signInFlow:"popup",credentialHelper:firebaseui.auth.CredentialHelper.NONE,signInOptions:[{provider:firebase.auth.EmailAuthProvider.PROVIDER_ID,requireDisplayName:!1,customParameters:{auth_type:"reauthenticate"}}]})}},$=S,F=Object(f["a"])($,w,E,!1,null,null,null);F.options.__file="Login.vue";var D=F.exports,H={name:"App",components:{Accounts:j,Login:D},data:function(){return{user:null,userToken:null,ui:null,loading:!0,docsUrl:"/api/v1/docs"}},created:function(){var t=this,e={apiKey:"AIzaSyC80_duW4Uapsz-o0CWiyp8lJKtc0yQHOc",authDomain:"sarch-io.firebaseapp.com",databaseURL:"https://sarch-io.firebaseio.com",projectId:"sarch-io",storageBucket:"sarch-io.appspot.com",messagingSenderId:"433056708021"};firebase.initializeApp(e),firebase.auth().onAuthStateChanged(function(e){e?firebase.auth().currentUser.getIdToken(!1).then(function(n){t.user=e,t.userToken=n,t.loading=!1}).catch(function(t){console.log("Filed to get Firebase Auth Token",t)}):t.loading=!1}),this.ui=new firebaseui.auth.AuthUI(firebase.auth())},methods:{logout:function(){firebase.auth().signOut(),this.user=null}}},L=H,U=(n("034f"),n("7496")),B=n("549c"),N=n("71d9"),R=n("2a7f"),M=Object(f["a"])(L,c,u,!1,null,null,null);M.options.__file="App.vue";var q=M.exports;m()(M,{VApp:U["a"],VBtn:g["a"],VContainer:y["a"],VContent:B["a"],VLayout:A["a"],VSpacer:V["a"],VToolbar:N["a"],VToolbarTitle:R["a"]}),a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(q)}}).$mount("#app")}});